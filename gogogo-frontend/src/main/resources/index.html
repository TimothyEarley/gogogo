<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="color-scheme" content="dark light">
<!--	currently breaks the layout -->
<!--	<meta name="viewport" content="width=device-width, initial-scale=1">-->
	<title>GoGoGo</title>
	<link rel="stylesheet" href="style.css">

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
	<link href="https://unpkg.com/treeflex/dist/css/treeflex.css" rel="stylesheet">
</head>
<body>
	<script type="text/javascript" src="gogogo-frontend.js"></script>

	<div id="dark-mode-div">
		<label id="dark-mode-label" for="dark-mode">Dark mode</label>
		<input id="dark-mode" type="checkbox"/>
	</div>

	<h1>GoGoGo</h1>

	<div id="menu" class="center">
		<ul id="main-menu">
			<li><button id="btn-play-local" class="btn">Play local</button></li>
			<li><button id="btn-play-online" class="btn">Play online</button></li>
			<li><button id="btn-rules" class="btn">Rules</button></li>
			<li><button id="btn-test-ai" class="btn">Test AI</button></li>
		</ul>

		<div id="rules" class="hidden">
			<p>The goal is simple: reach the other end. The rules of movement are:</p>
			<ol>
				<li>Each turn, move one piece to an adjacent square.</li>
				<li>You may push at most one other piece along with you.</li>
				<li>The pushed piece is immobilized; it cannot move during the opponent's turn.</li>
				<li>If a piece falls off the edge it's gone</li>
				<li>If you have no moves available you lose.</li>
			</ol>
			<button id="btn-back" class="btn" >Return</button>
		</div>
	</div>

	<div id="game-ui" class="hidden">
		<button id="btn-exit-game" class="center btn btn-red btn-small">◀ Exit</button>

		<p id="turn-indicator">Blue's turn</p>

		<div id="game">
			<div id="connect-spinner" class="lds-dual-ring"></div>
			<table id="game-grid"></table>
			<div id="sidebar" class="hidden">
				<h3>Lines</h3>
				<ul id="lines"></ul>
			</div>
		</div>

		<div class="center" id="local-controls">
			<select id="blue-controller"></select>
			vs.
			<select id="red-controller"></select>

			<div id="local-btns">
				<!--TODO FIX These buttons are synchronised - click on one and both go down -->
				<button id="btn-undo" class="btn btn-small">Undo</button>
				<button id="btn-restart" class="btn btn-small">Restart</button>
			</div>
		</div>

		<div class="center" id="server-controls">
			<p id="server-own-player"></p>
		</div>

	</div>

	<div id="ai-test-ui" class="hidden">
		<button id="btn-exit-ai-test" class="center btn btn-red btn-small">◀ Exit</button>

		<table style="width: 100%">
			<tr>
				<td><table id="ai-game-grid"></table></td>
			</tr>
			<tr>
				<td>
					<ol id="ai-list"></ol>
					<div id="ai-tree" class="tf-tree"></div>
				</td>
			</tr>
		</table>
	</div>
</body>
</html>
