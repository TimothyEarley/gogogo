//TODO convert to kts, or at least use Versions.*


plugins {
	id "org.jetbrains.kotlin.multiplatform" version "1.3.11"
	id 'kotlinx-serialization' version '1.3.11'
}


kotlin {
	targets {
		fromPreset(presets.jvm, 'jvm')
		fromPreset(presets.js, 'js')
	}


	sourceSets {
		commonMain {
			dependencies {
				implementation 'org.jetbrains.kotlin:kotlin-stdlib-common'
				implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core-common:1.1.0'
				implementation 'org.jetbrains.kotlinx:kotlinx-serialization-runtime-common:0.9.1'
			}
		}

		jsMain {
			dependencies {
				implementation 'org.jetbrains.kotlin:kotlin-stdlib-js'
				implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core-js:1.1.0'
				implementation 'org.jetbrains.kotlinx:kotlinx-serialization-runtime-js:0.9.1'
			}
		}

		jvmMain {
			dependencies {
				implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8'
				implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.0'
				implementation 'org.jetbrains.kotlinx:kotlinx-serialization-runtime:0.9.1'
			}
		}
	}
}